/**\n * Sidebar Component Tests\n * \n * Tests for the main navigation sidebar component including:\n * - Rendering and basic functionality\n * - Navigation link behavior\n * - User profile display\n * - Theme integration\n * - Responsive behavior\n */\n\nimport { render, screen, fireEvent } from '@testing-library/react'\nimport Sidebar from '../components/Sidebar'\nimport { UserProvider } from '../context/UserContext'\nimport { CartProvider } from '../context/CartContext'\n\n// Mock providers wrapper\nconst MockProviders = ({ children }: { children: React.ReactNode }) => (\n  <UserProvider>\n    <CartProvider>\n      {children}\n    </CartProvider>\n  </UserProvider>\n)\n\ndescribe('Sidebar Component', () => {\n  /**\n   * Test basic rendering\n   */\n  it('renders sidebar with logo and navigation links', () => {\n    render(\n      <MockProviders>\n        <Sidebar />\n      </MockProviders>\n    )\n    \n    // Check logo\n    expect(screen.getByText('TalentHub ðŸ‡°ðŸ‡ª')).toBeInTheDocument()\n    \n    // Check navigation links\n    expect(screen.getByText('Home')).toBeInTheDocument()\n    expect(screen.getByText('Dashboard')).toBeInTheDocument()\n    expect(screen.getByText('Browse Gigs')).toBeInTheDocument()\n    expect(screen.getByText('Create Gig')).toBeInTheDocument()\n  })\n\n  /**\n   * Test user profile section\n   */\n  it('displays user profile information when authenticated', () => {\n    render(\n      <MockProviders>\n        <Sidebar />\n      </MockProviders>\n    )\n    \n    // Check user name from mocked session\n    expect(screen.getByText('Test User')).toBeInTheDocument()\n    expect(screen.getByText('test@example.com')).toBeInTheDocument()\n  })\n\n  /**\n   * Test balance display\n   */\n  it('shows user balance and M-Pesa withdraw button', () => {\n    render(\n      <MockProviders>\n        <Sidebar />\n      </MockProviders>\n    )\n    \n    // Check balance display\n    expect(screen.getByText(/KES/)).toBeInTheDocument()\n    expect(screen.getByText('Withdraw via M-Pesa')).toBeInTheDocument()\n  })\n\n  /**\n   * Test navigation link highlighting\n   */\n  it('highlights active navigation link', () => {\n    render(\n      <MockProviders>\n        <Sidebar />\n      </MockProviders>\n    )\n    \n    // Home should be active (mocked pathname is '/')\n    const homeLink = screen.getByText('Home').closest('div')\n    expect(homeLink).toHaveClass('bg-primary')\n  })\n\n  /**\n   * Test message badge display\n   */\n  it('displays message notification badge', () => {\n    render(\n      <MockProviders>\n        <Sidebar />\n      </MockProviders>\n    )\n    \n    // Check for message badge\n    const messagesLink = screen.getByText('Messages')\n    expect(messagesLink).toBeInTheDocument()\n    \n    // Badge should show '3' from component\n    expect(screen.getByText('3')).toBeInTheDocument()\n  })\n\n  /**\n   * Test theme toggle presence\n   */\n  it('includes theme toggle button', () => {\n    render(\n      <MockProviders>\n        <Sidebar />\n      </MockProviders>\n    )\n    \n    // Theme toggle should be present\n    const themeToggle = screen.getByLabelText('Toggle theme')\n    expect(themeToggle).toBeInTheDocument()\n  })\n\n  /**\n   * Test sidebar collapse functionality\n   */\n  it('can toggle sidebar collapse state', () => {\n    render(\n      <MockProviders>\n        <Sidebar />\n      </MockProviders>\n    )\n    \n    // Find and click collapse button (mobile menu button)\n    const collapseButton = screen.getByRole('button')\n    fireEvent.click(collapseButton)\n    \n    // Sidebar should still be functional after toggle\n    expect(screen.getByText('Home')).toBeInTheDocument()\n  })\n\n  /**\n   * Test Kenya-specific elements\n   */\n  it('displays Kenya-specific branding and features', () => {\n    render(\n      <MockProviders>\n        <Sidebar />\n      </MockProviders>\n    )\n    \n    // Check Kenya flag in logo\n    expect(screen.getByText('TalentHub ðŸ‡°ðŸ‡ª')).toBeInTheDocument()\n    \n    // Check M-Pesa integration\n    expect(screen.getByText('Withdraw via M-Pesa')).toBeInTheDocument()\n  })\n})"